# declare arrays
declare -a FEATURE_TABLES
declare -a VARIABLE_TABLES
declare -a SAMPLE_TABLES

########## User-specified configurations ###########

# Directories
export APP_HOME=`cd $(dirname $0)/; pwd`
export DEEPDIVE_HOME=`cd $(dirname $0)/../../../; pwd`

# Database Configuration
export DBNAME=deepdive_spouse_tsv
export PGUSER=${PGUSER:-`whoami`}
export PGPASSWORD=${PGPASSWORD:-}
export PGPORT=${PGPORT:-5432}
export PGHOST=${PGHOST:-localhost}

# Set the utility files dir
UTIL_DIR=$APP_HOME/mindreporter

# Report folder
REPORT_DIR="$APP_HOME/experiment-reports"

# Hack: use the last DD run as output dir
# Suppose out/ is under $DEEPDIVE_HOME/
# You may need to manually change it based on need
DD_TIMESTAMP=`ls -t $DEEPDIVE_HOME/out/ | head -n 1`
DD_OUT_DIR=$DEEPDIVE_HOME/out/$DD_TIMESTAMP

# Specify all feature tables. 
# e.g. FEATURE_TABLES=(f1 f2 f3)
FEATURE_TABLES=(has_spouse_features)
FEATURE_COLUMNS=(feature)

# Specify all variable tables
VARIABLE_TABLES=(has_spouse)
VARIABLE_COLUMNS=(is_true)
# Inference result tables will be named as [VARIABLE_TABLE]_[VARIABLE_COLUMN]_inference

# Specify other tables to sample
SAMPLE_TABLES=(has_spouse people_mentions)

export NUM_SAMPLED_FEATURES=100
export NUM_SAMPLED_SUPERVISION=500
export NUM_SAMPLED_RESULT=1000

# TODO how to diff features